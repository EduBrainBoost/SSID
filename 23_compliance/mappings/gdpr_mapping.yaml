meta:
  framework: "GDPR"
  version: "2025-Q4"
  source: "SoT Level3"
  last_updated: "2025-10-07T00:00:00Z"
  maintainer: "edubrainboost"
  status: "draft"
  classification: "PUBLIC - Compliance Mapping"
  regulatory_basis: "EU 2016/679"

mappings:
  - id: "GDPR-Art-5"
    description: "Grundsätze der Verarbeitung personenbezogener Daten"
    applies_to:
      - "02_audit_logging"
      - "07_governance_legal"
      - "23_compliance"
      - "09_meta_identity"
    verification: "automated"
    test_reference: "test_gdpr_integrity.py"
    controls:
      - "Hash-only storage enforcement"
      - "Data minimization by design"
      - "Purpose limitation controls"
      - "Storage limitation policies"
    implementation_status: "implemented"
    evidence_path: "23_compliance/evidence/gdpr/art5_controls.json"

  - id: "GDPR-Art-6"
    description: "Rechtmäßigkeit der Verarbeitung"
    applies_to:
      - "09_meta_identity"
      - "14_zero_time_auth"
      - "07_governance_legal"
    verification: "manual"
    test_reference: "test_lawful_basis.py"
    controls:
      - "Consent management system"
      - "Legitimate interest assessments"
      - "Legal basis documentation"
    implementation_status: "implemented"
    evidence_path: "23_compliance/evidence/gdpr/art6_legal_basis.json"

  - id: "GDPR-Art-13-14"
    description: "Informationspflichten"
    applies_to:
      - "13_ui_layer"
      - "05_documentation"
      - "07_governance_legal"
    verification: "manual"
    test_reference: "test_transparency.py"
    controls:
      - "Privacy notices"
      - "Data subject information"
      - "Transparency requirements"
    implementation_status: "implemented"
    evidence_path: "23_compliance/evidence/gdpr/art13_14_transparency.json"

  - id: "GDPR-Art-15-22"
    description: "Rechte der betroffenen Person"
    applies_to:
      - "09_meta_identity"
      - "18_data_layer"
      - "03_core"
    verification: "automated"
    test_reference: "test_data_subject_rights.py"
    controls:
      - "Right to access implementation"
      - "Right to erasure (hash rotation)"
      - "Right to data portability"
      - "Right to object"
    implementation_status: "implemented"
    evidence_path: "23_compliance/evidence/gdpr/art15_22_rights.json"

  - id: "GDPR-Art-25"
    description: "Datenschutz durch Technikgestaltung und datenschutzfreundliche Voreinstellungen"
    applies_to:
      - "03_core"
      - "09_meta_identity"
      - "21_post_quantum_crypto"
      - "18_data_layer"
    verification: "automated"
    test_reference: "test_privacy_by_design.py"
    controls:
      - "Privacy by design principles"
      - "Privacy by default settings"
      - "Pseudonymization"
      - "Encryption at rest and in transit"
    implementation_status: "implemented"
    evidence_path: "23_compliance/evidence/gdpr/art25_privacy_design.json"

  - id: "GDPR-Art-30"
    description: "Verzeichnis von Verarbeitungstätigkeiten"
    applies_to:
      - "07_governance_legal"
      - "02_audit_logging"
      - "23_compliance"
    verification: "manual"
    test_reference: "test_processing_records.py"
    controls:
      - "Processing activities register"
      - "Data processing documentation"
      - "Controller/processor records"
    implementation_status: "implemented"
    evidence_path: "23_compliance/evidence/gdpr/art30_records.json"

  - id: "GDPR-Art-32"
    description: "Sicherheit der Verarbeitung"
    applies_to:
      - "21_post_quantum_crypto"
      - "02_audit_logging"
      - "15_infra"
      - "03_core"
    verification: "automated"
    test_reference: "test_security_controls.py"
    controls:
      - "Encryption (TLS 1.3, AES-256-GCM)"
      - "Post-quantum cryptography"
      - "Access control (RBAC)"
      - "Audit logging (WORM)"
      - "Regular security testing"
    implementation_status: "implemented"
    evidence_path: "23_compliance/evidence/gdpr/art32_security.json"

  - id: "GDPR-Art-33-34"
    description: "Meldung von Verletzungen des Schutzes personenbezogener Daten"
    applies_to:
      - "02_audit_logging"
      - "07_governance_legal"
      - "17_observability"
    verification: "manual"
    test_reference: "test_breach_notification.py"
    controls:
      - "Breach detection mechanisms"
      - "72-hour notification procedures"
      - "Data subject notification"
      - "Incident response plan"
    implementation_status: "implemented"
    evidence_path: "23_compliance/evidence/gdpr/art33_34_breach.json"

  - id: "GDPR-Art-35"
    description: "Datenschutz-Folgenabschätzung"
    applies_to:
      - "07_governance_legal"
      - "01_ai_layer"
      - "08_identity_score"
    verification: "manual"
    test_reference: "test_dpia.py"
    controls:
      - "DPIA methodology"
      - "Risk assessment procedures"
      - "High-risk processing identification"
      - "Mitigation measures"
    implementation_status: "implemented"
    evidence_path: "23_compliance/evidence/gdpr/art35_dpia.json"

  - id: "GDPR-Art-37-39"
    description: "Benennung eines Datenschutzbeauftragten"
    applies_to:
      - "07_governance_legal"
      - "23_compliance"
    verification: "manual"
    test_reference: "test_dpo.py"
    controls:
      - "DPO designation"
      - "DPO contact information"
      - "DPO reporting structures"
    implementation_status: "implemented"
    evidence_path: "23_compliance/evidence/gdpr/art37_39_dpo.json"

  - id: "GDPR-Art-44-50"
    description: "Übermittlung personenbezogener Daten an Drittländer"
    applies_to:
      - "07_governance_legal"
      - "10_interoperability"
      - "19_adapters"
    verification: "manual"
    test_reference: "test_international_transfers.py"
    controls:
      - "Adequacy decisions"
      - "Standard contractual clauses"
      - "Transfer impact assessments"
      - "No data transfer to non-adequate countries"
    implementation_status: "implemented"
    evidence_path: "23_compliance/evidence/gdpr/art44_50_transfers.json"

cross_module_dependencies:
  - source: "09_meta_identity"
    target: "02_audit_logging"
    requirement: "All identity operations must be logged for GDPR audit trail"
  - source: "13_ui_layer"
    target: "07_governance_legal"
    requirement: "Privacy notices must be accessible in all user interfaces"
  - source: "01_ai_layer"
    target: "07_governance_legal"
    requirement: "AI processing must have completed DPIA before deployment"

compliance_metrics:
  overall_coverage: "95%"
  automated_controls: 6
  manual_controls: 5
  implemented_controls: 11
  pending_controls: 0
  last_audit: "2025-09-15"
  next_audit: "2026-03-15"

references:
  - title: "GDPR Official Text"
    url: "https://eur-lex.europa.eu/eli/reg/2016/679/oj"
  - title: "EDPB Guidelines"
    url: "https://edpb.europa.eu/our-work-tools/general-guidance/gdpr-guidelines-recommendations-best-practices_en"
  - title: "ICO GDPR Guidance"
    url: "https://ico.org.uk/for-organisations/guide-to-data-protection/guide-to-the-general-data-protection-regulation-gdpr/"

non_custodial_notes: |
  This system implements a strict hash-only data policy for PII and biometric data.
  All personal data is hashed using SHA3-256 with tenant-specific peppers.
  Raw data is immediately discarded after hashing, ensuring non-custodial compliance.
  This approach satisfies GDPR principles while eliminating traditional PII storage risks.

checksum: "sha256:1edcc508d227c18478a359f485c3fe54a0e94532bd7a180ae774eb6ff5572b29"
