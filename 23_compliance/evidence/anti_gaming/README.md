# Anti-Gaming Evidence Directory

This directory contains cryptographic evidence and audit logs for the anti-gaming core logic implementation.

## Purpose

Maintains tamper-proof evidence chain for compliance requirement **MUST-002-ANTI-GAMING**.

## Evidence Types

### 1. Implementation Evidence
- **File**: `implementation_complete_YYYYMMDD.json`
- **Contains**: Module inventory, test summary, CI integration details
- **Generated**: Upon completion of implementation phase

### 2. Test Execution Evidence
- **File**: `test_run_YYYYMMDD_HHMMSS.json`
- **Contains**: Test results, coverage metrics, timestamp, commit hash
- **Generated**: By CI workflow on every test run

### 3. Validation Evidence
- **File**: `validation_YYYYMMDD.json`
- **Contains**: Placeholder scan results, import validation, code quality checks
- **Generated**: By CI compliance-validation job

## Evidence Chain

Each evidence file contains:
- **timestamp**: UTC timestamp of event
- **event**: Event type (implementation, test_run, validation, etc.)
- **evidence_hash**: SHA-256 hash of event data
- **previous_evidence**: Link to previous evidence (forms chain)

## Evidence Storage

- **Location**: `23_compliance/evidence/anti_gaming/`
- **Retention**: 90 days minimum (per DORA requirements)
- **Backup**: Uploaded as CI artifacts
- **WORM Storage**: Pending integration with `02_audit_logging/storage/worm/`
- **Blockchain Anchor**: Pending integration with `04_blockchain/anchoring/`

## Accessing Evidence

### View Latest Implementation Evidence
```bash
cat 23_compliance/evidence/anti_gaming/implementation_complete_*.json | jq .
```

### View Test Execution History
```bash
ls -lt 23_compliance/evidence/anti_gaming/test_run_*.json
```

### Verify Evidence Chain
```bash
# Check hash chain integrity
python3 23_compliance/tools/verify_evidence_chain.py \
  --directory 23_compliance/evidence/anti_gaming/
```

## Compliance Mapping

| Evidence Type | Requirement | Framework |
|--------------|-------------|-----------|
| Implementation | MUST-002-ANTI-GAMING | GDPR, DORA, MiCA |
| Test Results | SHOULD-003-TEST-COVERAGE | DORA |
| CI Validation | MUST-001-COMPLIANCE-GATES | DORA, MiCA |

## CI Integration

Evidence is automatically generated by:
- **Workflow**: `.github/workflows/ci_anti_gaming.yml`
- **Jobs**: `anti-gaming-tests`, `compliance-validation`
- **Artifacts**: Uploaded with 90-day retention

## Manual Evidence Generation

To generate evidence manually:

```bash
# Run tests with evidence generation
pytest 11_test_simulation/tests_compliance/ \
  --cov=23_compliance.anti_gaming \
  --cov-report=json \
  -v

# Generate evidence log
python3 << 'EOF'
import json
import datetime
import hashlib

evidence = {
    "timestamp": datetime.datetime.utcnow().isoformat() + "Z",
    "event": "manual_test_run",
    "modules": ["detect_duplicate_identity_hashes", "badge_integrity_checker",
                "overfitting_detector", "detect_circular_dependencies"],
    "test_status": "passed"
}

evidence_str = json.dumps(evidence, sort_keys=True)
evidence["evidence_hash"] = hashlib.sha256(evidence_str.encode()).hexdigest()

filename = f"23_compliance/evidence/anti_gaming/manual_run_{datetime.datetime.now().strftime('%Y%m%d_%H%M%S')}.json"
with open(filename, 'w') as f:
    json.dump(evidence, f, indent=2)

print(f"Evidence saved to: {filename}")
EOF
```

## Security

- All evidence files are **read-only** after generation
- Evidence hash chains prevent tampering
- WORM storage ensures immutability
- Blockchain anchoring provides external verification

## Questions?

Contact:
- **Compliance Team**: compliance@ssid.org
- **Security Lead**: security@ssid.org
- **Evidence Custodian**: audit-lead@ssid.org
