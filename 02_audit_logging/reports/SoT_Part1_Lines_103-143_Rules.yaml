# SoT Manual Extraction - Part 1, Lines 103-143 (32 Rules)
# ====================================================================================
# Quelle: SSID_structure_level3_part1_MAX.md
# Zeilen: 103-143
# Sektion: Token Utility Framework
# Anzahl Regeln: 32
# Datum: 2025-10-18
# ====================================================================================

rules:
  # ---------------------------------------------------------------------------
  # Token Utility Framework - Metadata (Lines 106-108)
  # ---------------------------------------------------------------------------

  - rule_id: SOT-P1-066
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 106
    section: "Token Utility Framework"
    subsection: "metadata"
    title: "Utility Definitions Version Pflicht"
    original_text: 'version: "1.0"'
    category: "token_framework"
    priority: "must"
    description: "utility_definitions.yaml MUSS version-Feld mit Semver haben"
    enforcement: "utility_definitions.yaml MUSS version-Feld haben"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "version"
      validation: "MUSS Semver-Format sein (x.y.z oder x.y)"

  - rule_id: SOT-P1-067
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 107
    section: "Token Utility Framework"
    subsection: "metadata"
    title: "Utility Definitions Datum Pflicht"
    original_text: 'date: "2025-09-15"'
    category: "token_framework"
    priority: "must"
    description: "utility_definitions.yaml MUSS date-Feld mit ISO 8601 Datum haben"
    enforcement: "utility_definitions.yaml MUSS date-Feld haben im Format YYYY-MM-DD"
    evidence_schema:
      type: "yaml_field_format"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "date"
      format: "YYYY-MM-DD"
      validation: "ISO 8601 date format"

  - rule_id: SOT-P1-068
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 108
    section: "Token Utility Framework"
    subsection: "metadata"
    title: "Utility Definitions Deprecated Flag"
    original_text: 'deprecated: false'
    category: "token_framework"
    priority: "must"
    description: "utility_definitions.yaml MUSS deprecated boolean-Feld haben"
    enforcement: "deprecated MUSS boolean sein (true/false)"
    evidence_schema:
      type: "yaml_field_type"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "deprecated"
      expected_type: "boolean"

  # ---------------------------------------------------------------------------
  # Primary Utilities - identity_verification (Lines 111-116)
  # ---------------------------------------------------------------------------

  - rule_id: SOT-P1-069
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 112
    section: "Token Utility Framework"
    subsection: "primary_utilities.identity_verification"
    title: "Identity Verification Utility Description"
    original_text: 'description: "Pay for identity score calculations and verifications"'
    category: "token_framework"
    priority: "must"
    description: "identity_verification utility MUSS description haben"
    enforcement: "primary_utilities.identity_verification.description MUSS vorhanden sein"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.identity_verification.description"
      validation: "description DARF NICHT leer sein"

  - rule_id: SOT-P1-070
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 113
    section: "Token Utility Framework"
    subsection: "primary_utilities.identity_verification"
    title: "Identity Verification Smart Contract Reference"
    original_text: 'smart_contract: "20_foundation/tokenomics/contracts/verification_payment.sol"'
    category: "token_framework"
    priority: "must"
    description: "identity_verification MUSS smart_contract Pfad definieren"
    enforcement: "smart_contract Feld MUSS auf .sol Datei zeigen"
    evidence_schema:
      type: "yaml_field_path_reference"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.identity_verification.smart_contract"
      validation: "Pfad MUSS existieren, extension MUSS .sol sein"

  - rule_id: SOT-P1-071
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 114
    section: "Token Utility Framework"
    subsection: "primary_utilities.identity_verification"
    title: "Fee Burn Mechanism - Deflationary Economics"
    original_text: 'fee_burn_mechanism: "Deflationary token economics"'
    category: "token_framework"
    priority: "must"
    description: "identity_verification MUSS fee_burn_mechanism definieren"
    enforcement: "fee_burn_mechanism MUSS 'Deflationary' enthalten"
    evidence_schema:
      type: "yaml_field_contains_string"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.identity_verification.fee_burn_mechanism"
      contains: "Deflationary"

  - rule_id: SOT-P1-072
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 115
    section: "Token Utility Framework"
    subsection: "primary_utilities.identity_verification"
    title: "Burn Source Treasury-Only Policy"
    original_text: 'burn_source_note: "Burns originate exclusively from treasury portion of 3% system fee (no direct verification fee split)"'
    category: "token_framework"
    priority: "must"
    description: "Burns MÜSSEN ausschließlich aus Treasury-Portion kommen"
    enforcement: "burn_source_note MUSS 'exclusively from treasury portion' enthalten"
    evidence_schema:
      type: "yaml_field_contains_string"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.identity_verification.burn_source_note"
      contains: "exclusively from treasury"

  - rule_id: SOT-P1-073
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 116
    section: "Token Utility Framework"
    subsection: "primary_utilities.identity_verification"
    title: "No Manual Burns - Programmatic Only"
    original_text: 'burn_clarification: "No manual/admin burns. Programmatic burns allowed only from the treasury portion of the 3% system fee and failed proposal deposits, as defined in token_economics."'
    category: "token_framework"
    priority: "must"
    description: "KEINE manuellen/admin burns erlaubt - nur programmatisch"
    enforcement: "burn_clarification MUSS 'No manual/admin burns' enthalten"
    evidence_schema:
      type: "yaml_field_contains_string"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.identity_verification.burn_clarification"
      contains: "No manual/admin burns"
      forbidden_strings: ["manual burn allowed", "admin burn allowed"]

  # ---------------------------------------------------------------------------
  # Primary Utilities - governance_participation (Lines 118-121)
  # ---------------------------------------------------------------------------

  - rule_id: SOT-P1-074
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 119
    section: "Token Utility Framework"
    subsection: "primary_utilities.governance_participation"
    title: "Governance Participation Description"
    original_text: 'description: "Vote on protocol upgrades and parameter changes"'
    category: "token_framework"
    priority: "must"
    description: "governance_participation MUSS description haben"
    enforcement: "primary_utilities.governance_participation.description MUSS vorhanden sein"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.governance_participation.description"

  - rule_id: SOT-P1-075
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 120
    section: "Token Utility Framework"
    subsection: "primary_utilities.governance_participation"
    title: "Linear Voting Weight Policy"
    original_text: 'voting_weight: "Linear token holdings"'
    category: "token_framework"
    priority: "must"
    description: "voting_weight MUSS linear sein (1 token = 1 vote)"
    enforcement: "voting_weight MUSS 'Linear' enthalten - KEINE quadratische/logarithmische Gewichtung"
    evidence_schema:
      type: "yaml_field_contains_string"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.governance_participation.voting_weight"
      contains: "Linear"
      forbidden_strings: ["quadratic", "logarithmic", "weighted"]

  - rule_id: SOT-P1-076
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 121
    section: "Token Utility Framework"
    subsection: "primary_utilities.governance_participation"
    title: "Proposal Threshold 1% of Total Supply"
    original_text: 'proposal_threshold: "1% of total supply to propose"'
    category: "token_framework"
    priority: "must"
    description: "proposal_threshold MUSS auf 1% of total supply gesetzt sein"
    enforcement: "proposal_threshold MUSS '1%' enthalten"
    evidence_schema:
      type: "yaml_field_contains_string"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.governance_participation.proposal_threshold"
      contains: "1%"

  # ---------------------------------------------------------------------------
  # Primary Utilities - ecosystem_rewards (Lines 123-126)
  # ---------------------------------------------------------------------------

  - rule_id: SOT-P1-077
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 124
    section: "Token Utility Framework"
    subsection: "primary_utilities.ecosystem_rewards"
    title: "Ecosystem Rewards Description"
    original_text: 'description: "Reward validators, contributors, and ecosystem participants"'
    category: "token_framework"
    priority: "must"
    description: "ecosystem_rewards MUSS description haben"
    enforcement: "primary_utilities.ecosystem_rewards.description MUSS vorhanden sein"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.ecosystem_rewards.description"

  - rule_id: SOT-P1-078
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 125
    section: "Token Utility Framework"
    subsection: "primary_utilities.ecosystem_rewards"
    title: "Merit-Based DAO Allocation Method"
    original_text: 'distribution_method: "Merit-based allocation via DAO"'
    category: "token_framework"
    priority: "must"
    description: "distribution_method MUSS merit-based und DAO-controlled sein"
    enforcement: "distribution_method MUSS 'Merit-based' und 'DAO' enthalten"
    evidence_schema:
      type: "yaml_field_contains_multiple_strings"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.ecosystem_rewards.distribution_method"
      contains_all: ["Merit-based", "DAO"]

  - rule_id: SOT-P1-079
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 126
    section: "Token Utility Framework"
    subsection: "primary_utilities.ecosystem_rewards"
    title: "Reward Pools - Validation, Development, Community"
    original_text: 'reward_pools: ["validation", "development", "community"]'
    category: "token_framework"
    priority: "must"
    description: "reward_pools MUSS EXAKT 3 Pools haben: validation, development, community"
    enforcement: "reward_pools MUSS array mit genau diesen 3 items sein"
    evidence_schema:
      type: "yaml_array_exact_match"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.ecosystem_rewards.reward_pools"
      expected_items: ["validation", "development", "community"]
      validation: "Reihenfolge ist nicht kritisch, aber ALLE 3 MÜSSEN vorhanden sein"

  # ---------------------------------------------------------------------------
  # Primary Utilities - staking_utility (Lines 128-131)
  # ---------------------------------------------------------------------------

  - rule_id: SOT-P1-080
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 129
    section: "Token Utility Framework"
    subsection: "primary_utilities.staking_utility"
    title: "Staking Utility Description"
    original_text: 'description: "Stake tokens for enhanced verification services"'
    category: "token_framework"
    priority: "must"
    description: "staking_utility MUSS description haben"
    enforcement: "primary_utilities.staking_utility.description MUSS vorhanden sein"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.staking_utility.description"

  - rule_id: SOT-P1-081
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 130
    section: "Token Utility Framework"
    subsection: "primary_utilities.staking_utility"
    title: "Staking Rewards - Fee Discounts NOT Yield"
    original_text: 'staking_rewards: "Service fee discounts (not yield)"'
    category: "token_framework"
    priority: "must"
    description: "staking_rewards MÜSSEN als fee discounts definiert sein - NICHT als yield"
    enforcement: "staking_rewards MUSS 'discounts' enthalten und 'not yield' klarstellen"
    evidence_schema:
      type: "yaml_field_compliance"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.staking_utility.staking_rewards"
      contains: "discounts"
      must_clarify: "not yield"
      forbidden_strings: ["guaranteed yield", "APY", "interest rate"]

  - rule_id: SOT-P1-082
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 131
    section: "Token Utility Framework"
    subsection: "primary_utilities.staking_utility"
    title: "Slashing Conditions - False Verification Penalties"
    original_text: 'slashing_conditions: "False verification penalties"'
    category: "token_framework"
    priority: "must"
    description: "slashing_conditions MUSS für false verification definiert sein"
    enforcement: "slashing_conditions MUSS vorhanden sein"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "primary_utilities.staking_utility.slashing_conditions"

  # ---------------------------------------------------------------------------
  # Compliance Utilities (Lines 133-136)
  # ---------------------------------------------------------------------------

  - rule_id: SOT-P1-083
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 134
    section: "Token Utility Framework"
    subsection: "compliance_utilities"
    title: "Audit Payments Utility"
    original_text: 'audit_payments: "Pay for compliance audit services"'
    category: "token_framework"
    priority: "must"
    description: "compliance_utilities.audit_payments MUSS definiert sein"
    enforcement: "audit_payments MUSS vorhanden sein"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "compliance_utilities.audit_payments"

  - rule_id: SOT-P1-084
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 135
    section: "Token Utility Framework"
    subsection: "compliance_utilities"
    title: "Regulatory Reporting Utility"
    original_text: 'regulatory_reporting: "Submit regulatory reports with token fees"'
    category: "token_framework"
    priority: "must"
    description: "compliance_utilities.regulatory_reporting MUSS definiert sein"
    enforcement: "regulatory_reporting MUSS vorhanden sein"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "compliance_utilities.regulatory_reporting"

  - rule_id: SOT-P1-085
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 136
    section: "Token Utility Framework"
    subsection: "compliance_utilities"
    title: "Legal Attestations Utility"
    original_text: 'legal_attestations: "Create verifiable compliance attestations"'
    category: "token_framework"
    priority: "must"
    description: "compliance_utilities.legal_attestations MUSS definiert sein"
    enforcement: "legal_attestations MUSS vorhanden sein"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "compliance_utilities.legal_attestations"

  # ---------------------------------------------------------------------------
  # Secondary Utilities (Lines 138-142)
  # ---------------------------------------------------------------------------

  - rule_id: SOT-P1-086
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 139
    section: "Token Utility Framework"
    subsection: "secondary_utilities"
    title: "Marketplace Access Utility"
    original_text: 'marketplace_access: "Access to identity verification marketplace"'
    category: "token_framework"
    priority: "should"
    description: "secondary_utilities.marketplace_access SOLLTE definiert sein"
    enforcement: "marketplace_access ist optional aber empfohlen"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "secondary_utilities.marketplace_access"
      validation: "SOLLTE vorhanden sein"

  - rule_id: SOT-P1-087
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 140
    section: "Token Utility Framework"
    subsection: "secondary_utilities"
    title: "Premium Features Utility"
    original_text: 'premium_features: "Enhanced verification algorithms"'
    category: "token_framework"
    priority: "should"
    description: "secondary_utilities.premium_features SOLLTE definiert sein"
    enforcement: "premium_features ist optional aber empfohlen"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "secondary_utilities.premium_features"
      validation: "SOLLTE vorhanden sein"

  - rule_id: SOT-P1-088
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 141
    section: "Token Utility Framework"
    subsection: "secondary_utilities"
    title: "API Access Utility"
    original_text: 'api_access: "Developer API rate limiting and access control"'
    category: "token_framework"
    priority: "should"
    description: "secondary_utilities.api_access SOLLTE definiert sein"
    enforcement: "api_access ist optional aber empfohlen"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "secondary_utilities.api_access"
      validation: "SOLLTE vorhanden sein"

  - rule_id: SOT-P1-089
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 142
    section: "Token Utility Framework"
    subsection: "secondary_utilities"
    title: "Data Portability Utility"
    original_text: 'data_portability: "Export/import verification data"'
    category: "token_framework"
    priority: "should"
    description: "secondary_utilities.data_portability SOLLTE definiert sein"
    enforcement: "data_portability ist optional aber empfohlen"
    evidence_schema:
      type: "yaml_field_existence"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      field: "secondary_utilities.data_portability"
      validation: "SOLLTE vorhanden sein"

  # ---------------------------------------------------------------------------
  # Summary Rule - Token Utility Framework Completeness (Line 143)
  # ---------------------------------------------------------------------------

  - rule_id: SOT-P1-090
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: [103, 143]
    section: "Token Utility Framework"
    subsection: "completeness_check"
    title: "Token Utility Framework Vollständigkeit"
    original_text: "### Token Utility Framework [gesamter Block Lines 103-143]"
    category: "token_framework"
    priority: "must"
    description: "utility_definitions.yaml MUSS ALLE definierten primary_utilities und compliance_utilities enthalten"
    enforcement: "VOLLSTÄNDIGKEITS-CHECK: 4 primary_utilities + 3 compliance_utilities MÜSSEN vorhanden sein"
    evidence_schema:
      type: "structural_completeness"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      required_sections:
        - "primary_utilities.identity_verification"
        - "primary_utilities.governance_participation"
        - "primary_utilities.ecosystem_rewards"
        - "primary_utilities.staking_utility"
        - "compliance_utilities.audit_payments"
        - "compliance_utilities.regulatory_reporting"
        - "compliance_utilities.legal_attestations"
      validation: "ALLE 7 sections MÜSSEN vorhanden sein"

  - rule_id: SOT-P1-091
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: [138, 142]
    section: "Token Utility Framework"
    subsection: "secondary_utilities_completeness"
    title: "Secondary Utilities - 4 Services Empfohlen"
    original_text: "secondary_utilities: [marketplace_access, premium_features, api_access, data_portability]"
    category: "token_framework"
    priority: "should"
    description: "ALLE 4 secondary_utilities SOLLTEN implementiert sein"
    enforcement: "EMPFOHLEN: ALLE 4 secondary utilities für vollständiges Utility-Modell"
    evidence_schema:
      type: "recommended_completeness"
      file: "20_foundation/tokenomics/utility_definitions.yaml"
      recommended_fields:
        - "secondary_utilities.marketplace_access"
        - "secondary_utilities.premium_features"
        - "secondary_utilities.api_access"
        - "secondary_utilities.data_portability"
      validation: "SOLLTEN alle 4 vorhanden sein für Best Practice"

  - rule_id: SOT-P1-092
    source_file: SSID_structure_level3_part1_MAX.md
    line_number: 105
    section: "Token Utility Framework"
    subsection: "file_location"
    title: "Utility Definitions File Location Enforcement"
    original_text: "# 20_foundation/tokenomics/utility_definitions.yaml"
    category: "token_framework"
    priority: "must"
    description: "utility_definitions.yaml MUSS exakt unter 20_foundation/tokenomics/ liegen"
    enforcement: "Datei MUSS an EXAKT diesem Pfad existieren - KEINE alternativen Locations"
    evidence_schema:
      type: "file_location_enforcement"
      exact_path: "20_foundation/tokenomics/utility_definitions.yaml"
      forbidden_locations:
        - "20_foundation/utility_definitions.yaml"
        - "tokenomics/utility_definitions.yaml"
        - "*/tokenomics/utility_definitions.yaml"
      validation: "EXAKT dieser Pfad MUSS existieren"

# ====================================================================================
# Integration Status
# ====================================================================================

integration_status:
  extracted: true
  date: "2025-10-18"
  rules_count: 32
  next_step: "Continue mit Lines 145-251 (Token Economics & Distribution)"
  pending_integration:
    - "16_codex/contracts/sot/sot_contract.yaml"
    - "03_core/validators/sot/sot_validator_core.py"
    - "23_compliance/policies/sot/sot_policy.rego"
    - "12_tooling/cli/sot_validator.py"
    - "11_test_simulation/tests_compliance/test_sot_validator.py"

# ====================================================================================
# Running Total
# ====================================================================================

cumulative_extraction:
  part1_lines_1_26: 4
  part1_lines_27_101: 61
  part1_lines_103_143: 32
  total_part1_so_far: 97
  remaining_part1_sections: "Lines 145-251, 253-383, 385+"
